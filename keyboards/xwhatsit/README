Matthew J Wolf 02-July-2021


Changes to Source Files 
-----------------------

- File System
-- Changed directory "brand_new_model_f" to "model_f_labs".
-- Changed matrix.c to capsense_matrix.c
-- Changed matrix_manipulate.h capsense_matrix.h
-- Updated all of the rules.mk

- Source Changes 
-- Moved defines from source to headers
-- Replaced define macros with functions


Refactored the Build
--------------------
QMK is sorted by hardware types. The xwhatsit directory was sorted by
manufacturer. 

Sorting by manufacturer required complex hardware conditional logic in
the post_config.h file. 

I have resorted the xwhatsit directory by hardware "types". The new directory
structure allowed me to removed the complex hardware conditional logic from
post_config.h.

When I reviewed post_config.h I discovered there was four different hardware
types supported by the xwhatsit controllers.
- displaywriter
- rev4
- throught_hole
- type_f

I created a sub-directory for each of the hardware types. In each of the
hardware sub-directories is a config.h file. The file contains the hardware
specific items from the original post_config.h file. The QMK build system 
uses the config.h file when it compiles the firmware for a keyboard defined
in a sub directory.

I moved the hardware specific keyboard directories into the corresponding
hardware type sub-directory. I copied the info.json file and keymaps directory
The QMK build system did not like the symlinks.

Each of the keyboards for hardware types Displaywriter, rev4, and throught_hole 
had a sub-directory with the same name. I collapse / removed these
sub-directories. 

I did not collapse any sub-directories for hardware type type_f. Each of the
type_f keyboards has two sub-directories: wcass, xwhatsit. 

I updated all the keyboard directory config.h, source, header, readme.md as
needed.   

I moved the remaining files in the original sub-directories into the
manufacturers sub-directory. The manufacturers directory can be used as the
authoritative repo for the keyboard info.json and keymaps. The sub-directory
should not be included in the QMK official release. It should only be used for
development.       

The tools sub-directory is a place for me to store helpful items. It should
not be included in the QMK official release.

After my refactoring the build I tried to compile everything. I was able to
compile 127 firmware files. A list of the hex file is in the file. 

I want to believe that I have made the build of the firmware simpler.


Possible Issues
---------------
In the config.h files the strings for the "MANUFACTURER" and "PRODUCT" may be too long. These strings are sent as part of the USB handshake. They are the USB device descriptors iManufacturer and iProduct.


Other
-----
Removed util directory. This firmware not utility software. The utility should have it's know repo.


List of hex Files That Compile 
------------------------------
- The list is 127 hex files.
xwhatsit_displaywriter_ibm_displaywriter_default.hex
xwhatsit_rev4_ibm_3101_3727_3278_87key_default.hex
xwhatsit_rev4_ibm_3276_3278_75key_default.hex
xwhatsit_rev4_ibm_3277_66key_default.hex
xwhatsit_rev4_ibm_3277_78key_default.hex
xwhatsit_rev4_ibm_3277_split_66key_default.hex
xwhatsit_rev4_ibm_bigfoot_fxt_type_1_default.hex
xwhatsit_through_hole_ibm_3101_3727_3278_87key_default.hex
xwhatsit_through_hole_ibm_3178_default.hex
xwhatsit_through_hole_ibm_3276_3278_75key_default.hex
xwhatsit_through_hole_ibm_3277_66key_default.hex
xwhatsit_through_hole_ibm_3277_78key_default.hex
xwhatsit_through_hole_ibm_3277_split_66key_default.hex
xwhatsit_through_hole_ibm_3278_3279_led_78key_default.hex
xwhatsit_through_hole_ibm_4978_default.hex
xwhatsit_through_hole_ibm_bigfoot_fxt_type_1_default.hex
xwhatsit_through_hole_ibm_displaywriter_default.hex
xwhatsit_through_hole_ibm_f104_default.hex
xwhatsit_through_hole_ibm_f107_default.hex
xwhatsit_through_hole_ibm_f122_default.hex
xwhatsit_through_hole_ibm_f50_default.hex
xwhatsit_through_hole_ibm_f62_default.hex
xwhatsit_through_hole_ibm_fat_default.hex
xwhatsit_through_hole_ibm_fext_default.hex
xwhatsit_through_hole_ibm_fssk_default.hex
xwhatsit_through_hole_ibm_fxt_type_2_default.hex
xwhatsit_through_hole_ibm_typewriter_65_85_95_default.hex
xwhatsit_through_hole_ibm_xtant_default.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_hhkb_split_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_hhkb_split_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_nonhhkb_split_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_regular_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_ansi_regular_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_default.hex
xwhatsit_through_hole_model_f_labs_f62_iso_hhkb_split_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_iso_hhkb_split_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_iso_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_iso_nonhhkb_split_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_iso_regular_shift_regular_backspace.hex
xwhatsit_through_hole_model_f_labs_f62_iso_regular_shift_split_backspace.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_hhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_regular_shift_regular_backspace_prscr_scrlock_etc.hex
xwhatsit_through_hole_model_f_labs_f77_ansi_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_default.hex
xwhatsit_through_hole_model_f_labs_f77_iso_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_iso_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_iso_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_iso_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_iso_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_model_f_labs_f77_iso_uk_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_through_hole_sneakyrobb_beam104_default.hex
xwhatsit_type_f_ibm_3178_wcass_default.hex
xwhatsit_type_f_ibm_3178_xwhatsit_default.hex
xwhatsit_type_f_ibm_f50_wcass_default.hex
xwhatsit_type_f_ibm_f50_xwhatsit_default.hex
xwhatsit_type_f_ibm_f62_wcass_default.hex
xwhatsit_type_f_ibm_f62_xwhatsit_default.hex
xwhatsit_type_f_ibm_fat_wcass_default.hex
xwhatsit_type_f_ibm_fat_xwhatsit_default.hex
xwhatsit_type_f_ibm_fext_wcass_default.hex
xwhatsit_type_f_ibm_fext_xwhatsit_default.hex
xwhatsit_type_f_ibm_fssk_wcass_default.hex
xwhatsit_type_f_ibm_fssk_xwhatsit_default.hex
xwhatsit_type_f_ibm_fxt_type_2_wcass_default.hex
xwhatsit_type_f_ibm_fxt_type_2_xwhatsit_default.hex
xwhatsit_type_f_ibm_xtant_wcass_default.hex
xwhatsit_type_f_ibm_xtant_xwhatsit_default.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_hhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_hhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_nonhhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_regular_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_ansi_regular_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_default.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_hhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_hhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_nonhhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_regular_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_wcass_iso_regular_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_hhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_hhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_nonhhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_regular_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_ansi_regular_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_default.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_hhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_hhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_nonhhkb_split_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_nonhhkb_split_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_regular_shift_regular_backspace.hex
xwhatsit_type_f_model_f_labs_f62_xwhatsit_iso_regular_shift_split_backspace.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_hhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_regular_shift_regular_backspace_prscr_scrlock_etc.hex
xwhatsit_type_f_model_f_labs_f77_wcass_ansi_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_default.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_hhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_wcass_iso_uk_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_hhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_regular_shift_regular_backspace_prscr_scrlock_etc.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_ansi_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_default.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_hhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_nonhhkb_split_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_regular_shift_regular_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_regular_shift_split_backspace_0_9_and_cursor_keys.hex
xwhatsit_type_f_model_f_labs_f77_xwhatsit_iso_uk_nonhhkb_split_shift_regular_backspace_0_9_and_cursor_keys.hex


