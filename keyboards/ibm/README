Matthew J Wolf 14-Jun-2022 ibm

----
I have decided at this time I am only going to continue working on keyboards
that I physical possess and can test. I have no IBM xwhatsit keyboards.

Do have a keyboard for a 3270 that you are willing to sell for around $500 USD?
----

See change log for changes.

The original source used Purdea Andrei xwhatsit code that was retrieved on
24 June 2021.

The code has been updated with changes Purdea Andrei up to Dec 4 2021.

Disclaimer:
The firmware compiles. At the time I created this document I have no way to test
the firmware.


Changes to Source Files
-----------------------

- File System
-- Changed matrix.c to xwhatsit_capsense_matrix.c
-- Changed matrix_manipulate.h to xwhatsit_capsense_matrix.h
-- Changed util_comm.c to xwhatsit_util_comm.c
-- Changed util_comm.h to xwhatsit_util_comm.h
-- Updated all of the keyboard config.h
-- Updated all of the keyboard rules.mk

- Source Changes
-- Moved defines from source to headers
-- Replaced define macros with functions

Refactored the Build
--------------------
The QMK reviewers wants the keyboard directory index by organization. I have
refactored Purdea Andrei code into the three organization of ibm, model_f_labs,
and sneakyrobb.

In my git branch there are new directories:
keyboards/ibm
keyboards/model_f_labs
keyboards/sneakyrobb

I copied the organization directories from the original source into the
keyboards directory.

In the root each of the organization keyboards directories I added a xwhatsit
sub-directory. This is where I placed the xwhatsit source. The contents of this
directory are likely what should be moved into QMK core.

I removed the hardware "type"  / "style from the original xwhatsit/post_config.h
file. I placed the hardware details into each keyboard's config.h.

Type / Style
- Define cause in original post_config.h

xwhatsit_rev4 (rev4)
- CONTROLLER_IS_XWHATSIT_BEAMSPRING_REV_4

wcass    (type_f)
xwhatsit (type_f)
- CONTROLLER_IS_XWHATSIT_MODEL_F_OR_WCASS_MODEL_F

xwhatsit (displaywriter)
- CONTROLLER_IS_XWHATSIT_DISPLAYWRITER
-- I belive this was only used with ibm/displaywriter/xwhatsit

universal (through_hole)
- CONTROLLER_IS_THROUGH_HOLE_BEAMSPRING
- CONTROLLER_IS_THROUGH_HOLE_MODEL_F

Finely I updated the needed files with the updated file paths.


Possible Issues
---------------
In the config.h files the strings for the "MANUFACTURER" and "PRODUCT" may be
too long. These strings are sent as part of the USB handshake. They are the USB
device descriptors iManufacturer and iProduct.


Other
-----
Removed util directory. This firmware not utility software. The utility should
have it's know repo.

List of ibm hex Files That Compile
----------------------------------
ibm_3101_3727_3278_87key_universal_default.hex
ibm_3178_universal_default.hex
ibm_3178_wcass_default.hex
ibm_3178_xwhatsit_default.hex
ibm_3276_3278_75key_universal_10t8or_spacefn.hex
ibm_3276_3278_75key_universal_default.hex
ibm_3277_66key_universal_default.hex
ibm_3277_78key_universal_default.hex
ibm_3277_split_66key_universal_default.hex
ibm_3278_3279_led_78key_universal_default.hex
ibm_4978_universal_default.hex
ibm_5251_fake_temp_universal_default.hex
ibm_5251_fake_temp_universal_pandrew.hex
ibm_5251_universal_10t8or_spacefn.hex
ibm_5251_universal_default.hex
ibm_5251_universal_pandrew.hex
ibm_bigfoot_fxt_type_1_universal_default.hex
ibm_displaywriter_universal_default.hex
ibm_displaywriter_xwhatsit_default.hex
ibm_f104_universal_default.hex
ibm_f104_wcass_default.hex
ibm_f104_xwhatsit_default.hex
ibm_f107_universal_default.hex
ibm_f107_wcass_default.hex
ibm_f107_xwhatsit_default.hex
ibm_f122_universal_default.hex
ibm_f122_wcass_default.hex
ibm_f122_xwhatsit_default.hex
ibm_f50_universal_default.hex
ibm_f50_wcass_default.hex
ibm_f50_xwhatsit_default.hex
ibm_f62_universal_default.hex
ibm_f62_wcass_default.hex
ibm_f62_xwhatsit_default.hex
ibm_fat_universal_default.hex
ibm_fat_wcass_default.hex
ibm_fat_wcass_locklights_default.hex
ibm_fat_xwhatsit_default.hex
ibm_fat_xwhatsit_locklights_default.hex
ibm_fext_universal_default.hex
ibm_fext_wcass_default.hex
ibm_fext_xwhatsit_default.hex
ibm_fssk_universal_default.hex
ibm_fssk_wcass_default.hex
ibm_fssk_xwhatsit_default.hex
ibm_fxtal_universal_default.hex
ibm_fxtal_xwhatsit_default.hex
ibm_fxt_type_2_universal_default.hex
ibm_fxt_type_2_wcass_default.hex
ibm_fxt_type_2_xwhatsit_default.hex
ibm_typewriter_65_85_95_universal_default.hex
ibm_xtant_universal_default.hex
ibm_xtant_wcass_default.hex
ibm_xtant_xwhatsit_default.hex


