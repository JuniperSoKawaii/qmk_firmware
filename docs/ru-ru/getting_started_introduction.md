# Введение

Эта страница пытается объяснить основную информацию, которую вы должны знать, чтобы работать с проектом QMK. Предполагается, что вы знакомы с навигацией в оболочке Unix, но не предполагается, что вы знакомы с C или с компиляцией с использованием make.

## Базовая структура QMK

QMK - это форк [Джуна Вако (Jun Wako)](https://github.com/tmk) проекта [tmk_keyboard](https://github.com/tmk/tmk_keyboard). Оригинальный код TMK с изменениями можно найти в папке `tmk`. Дополнения QMK к проекту можно найти в папке `quantum`. Проекты клавиатур можно найти в папках `handwired` и `keyboard`.

### Структура пространства пользователя

Внутри папки `users` находится каталог для каждого пользователя. Это место для пользователей, чтобы поместить код, который они могли бы использовать между клавиатурами. Для получения дополнительной информации см. документацию для [функций пользовательского пространства](feature_userspace.md).

### Структура проекта клавиатуры

Внутри папки `keyboards`, есть подпапки `handwired` и есть подкаталоги поставщиков и производителей, для примера, `clueboard` - это каталог для каждого проекта клавиатуры, например, `qmk_firmware/keyboards/clueboard/2x1800`. В нем вы найдете следующую структуру:
* `keymaps/`: Различные раскладки клавиш, которые можно построить
* `rules.mk`: Файл, который устанавливает параметры по умолчанию "make". Не редактируйте этот файл напрямую, вместо этого используйте специальную раскладку `rules.mk`.
* `config.h`: Файл, который устанавливает параметры времени компиляции по умолчанию. Не редактируйте этот файл напрямую, вместо этого используйте специальную раскладку `config.h`.
* `info.json`: Файл, используемый для настройки макета для QMK Configurator. Смотрите [Поддержку конфигуратора](reference_configurator_support.md) для дополнительной информации.
* `readme.md`: Краткий обзор клавиатуры.
* `<keyboardName>.h`: его файл находится там, где раскладка клавиатуры определяется по матрице переключателей клавиатуры.
* `<keyboardName>.c`: Этот файл, где вы можете найти пользовательский код для клавиатуры.  

Для получения дополнительной информации о структуре проекта см. [QMK Руководство по клавиатуре](hardware_keyboard_guidelines.md).

### Структура раскладки клавиатуры

В каждой папке раскладки клавиатуры могут быть найдены следующие файлы. Только `keymap.c` требуется, и если остальные файлы не найдены, будут выбраны параметры по умолчанию.

* `config.h`: варианты настройки вашей раскладки клавиатуры
* `keymap.c`: необходим весь код вашей раскладки клавиатуры
* `rules.mk`: функции QMK, которые включены
* `readme.md`: описание вашей раскладки клавиш, как ее могут использовать другие, и объяснения функций. Пожалуйста, загрузите изображения на сервис, как imgur.

# The `config.h` файл

Существует 3 возможных местоположения `config.h`:

* keyboard (`/keyboards/<keyboard>/config.h`)
* userspace (`/users/<user>/config.h`)
* keymap (`/keyboards/<keyboard>/keymaps/<keymap>/config.h`)

Система сборки автоматически подбирает файлы конфигурации в указанном выше порядке. Если вы хотите переопределить любую настройку, заданную предыдущим `config.h`, вам сначала нужно будет включить некоторый шаблонный код для настроек, которые вы хотите изменить.

```
#pragma once
```

Затем, чтобы переопределить настройку из предыдущего файла `config.h`, вы должны сделать `#undef` и `#define` для неё снова.

Код и настройка шаблона вместе выглядят так:
```
#pragma once

// Переопределения производятся здесь!
#undef MY_SETTING
#define MY_SETTING 4
```
